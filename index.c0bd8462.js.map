{"mappings":"YAEA,IAEMA,EAAcC,SAASC,cAAc,eACrCC,EAAcF,SAASC,cAAc,iBACrCE,EAAcH,SAASC,cAAc,iBAmD3C,SAASG,IACPF,EAAYG,UAAY,E,CAG1B,SAASC,IACPH,EAAYE,UAAY,E,CAtD1BN,EAAYQ,iBAAiB,SAE7B,SAAkBC,GAChBA,EAAMC,iBACN,IACMC,EADQF,EAAMG,cACMC,MAAMC,OAUZ,KAAhBH,IACFN,IACAE,MAVoBQ,EAaTJ,EAZJK,MACL,uCAA4CC,OAALF,EAAK,oDAC5CG,MAAK,SAAAC,GACL,OAAOA,EAASC,M,KASMF,MAAK,SAAAG,GAC7B,OAAIA,EAAKC,OAAS,GACTC,MACL,8DAIAF,EAAKC,QAAU,GAAKD,EAAKC,OAAS,IAc1C,SAA2BD,GACzBlB,EAAYG,UAed,SAAiCe,GAC/B,OAAOA,EACJG,KACC,SAAAC,G,IAAGV,EAAIU,EAAJV,KAAMW,EAAKD,EAALC,M,MACP,6BAEQT,OADMS,EAAMC,IAAI,+CACJV,OAAZF,EAAKa,OAAO,uB,IAGvBC,KAAK,G,CAxBgBC,CAAwBT,E,CAd5CU,CAAkBV,QAClBd,KAIkB,IAAhBc,EAAKC,QACPjB,SAWN,SAA2BgB,GACzBjB,EAAYE,UAuBd,SAAiCe,GAC/B,OAAOA,EACJG,KACC,SAAAC,G,IAAGV,EAAIU,EAAJV,KAAMiB,EAAOP,EAAPO,QAASC,EAAUR,EAAVQ,WAAYP,EAAKD,EAALC,MAAOQ,EAAST,EAATS,U,MACnC,2CAEQjB,OADMS,EAAMC,IAAI,gDAIaV,OAH7BF,EAAKa,OAAO,qFAIoBX,OADHe,EAAQ,wDAENf,OADCgB,EAAW,uDACahB,OAAzBkB,OAAOC,OAAOF,GAAW,uB,IAGnEL,KAAK,G,CArCgBQ,CAAwBhB,E,CAX5CiB,CAAkBjB,SAFpB,C,IA1BF,IAAsBN,C","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst searchField = document.querySelector('#search-box');\nconst countryList = document.querySelector('.country-list');\nconst countryInfo = document.querySelector('.country-info');\n\nsearchField.addEventListener('input', onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n  const input = event.currentTarget;\n  const searchQuery = input.value.trim();\n\n  function fetchCountry(name) {\n    return fetch(\n      `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`\n    ).then(response => {\n      return response.json();\n    });\n  }\n\n  if (searchQuery === '') {\n    cleanCountryList();\n    cleanCountryInfo();\n  }\n\n  fetchCountry(searchQuery).then(data => {\n    if (data.length > 10) {\n      return alert(\n        'Too many matches found. Please enter a more specific name.'\n      );\n    }\n\n    if (data.length >= 2 && data.length < 10) {\n      createCountryList(data);\n      cleanCountryInfo();\n      return;\n    }\n\n    if (data.length === 1) {\n      cleanCountryList();\n      createCountryInfo(data);\n      return;\n    }\n  });\n}\n\nfunction createCountryList(data) {\n  countryList.innerHTML = createMarkupCountryList(data);\n}\n\nfunction createCountryInfo(data) {\n  countryInfo.innerHTML = createMarkupCountryInfo(data);\n}\n\nfunction cleanCountryList() {\n  countryList.innerHTML = '';\n}\n\nfunction cleanCountryInfo() {\n  countryInfo.innerHTML = '';\n}\n\nfunction createMarkupCountryList(data) {\n  return data\n    .map(\n      ({ name, flags }) =>\n        `<li>\n          <img src=\"${flags.svg}\" alt=\"flag\" width=\"30px\"/>\n          <h2>${name.common}</h2>\n        </li>`\n    )\n    .join('');\n}\n\nfunction createMarkupCountryInfo(data) {\n  return data\n    .map(\n      ({ name, capital, population, flags, languages }) =>\n        `<div class=\"info\">\n          <img src=\"${flags.svg}\" alt=\"flag\" width=\"100px\"/>\n          <h1>${name.common}</h1>\n        </div>\n        <div>\n          <p class=\"title\"><b>Capital:</b> ${capital}</p>\n          <p class=\"title\"><b>Population:</b> ${population}</p>\n          <p class=\"title\"><b>Languages:</b> ${Object.values(languages)}</p>\n        </div>`\n    )\n    .join('');\n}\n\n// function fetchCountry(name) {\n//   return fetch(\n//     `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`\n//   ).then(response => {\n//     return response.json;\n//   });\n// }\n"],"names":["$b8f9b7833fa37166$var$searchField","document","querySelector","$b8f9b7833fa37166$var$countryList","$b8f9b7833fa37166$var$countryInfo","$b8f9b7833fa37166$var$cleanCountryList","innerHTML","$b8f9b7833fa37166$var$cleanCountryInfo","addEventListener","event","preventDefault","searchQuery","currentTarget","value","trim","name","fetch","concat","then","response","json","data","length","alert","map","param","flags","svg","common","join","$b8f9b7833fa37166$var$createMarkupCountryList","$b8f9b7833fa37166$var$createCountryList","capital","population","languages","Object","values","$b8f9b7833fa37166$var$createMarkupCountryInfo","$b8f9b7833fa37166$var$createCountryInfo"],"version":3,"file":"index.c0bd8462.js.map"}