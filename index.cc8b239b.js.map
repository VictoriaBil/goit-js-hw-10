{"mappings":"AAEA,MAEMA,EAAcC,SAASC,cAAc,eACrCC,EAAcF,SAASC,cAAc,iBACrCE,EAAcH,SAASC,cAAc,iBAmD3C,SAASG,IACPF,EAAYG,UAAY,E,CAG1B,SAASC,IACPH,EAAYE,UAAY,E,CAtD1BN,EAAYQ,iBAAiB,SAE7B,SAAkBC,GAChBA,EAAMC,iBACN,MACMC,EADQF,EAAMG,cACMC,MAAMC,OAUZ,KAAhBH,IACFN,IACAE,MAVoBQ,EAaTJ,EAZJK,MACL,uCAAuCD,oDACvCE,MAAKC,GACEA,EAASC,UASMF,MAAKG,GACzBA,EAAKC,OAAS,GACTC,MACL,8DAIAF,EAAKC,QAAU,GAAKD,EAAKC,OAAS,IAc1C,SAA2BD,GACzBjB,EAAYG,UAed,SAAiCc,GAC/B,OAAOA,EACJG,KACC,EAACR,KAAEA,EAAIS,MAAEA,KACP,6BACcA,EAAMC,iDACZV,EAAKW,+BAGhBC,KAAK,G,CAxBgBC,CAAwBR,E,CAd5CS,CAAkBT,QAClBb,KAIkB,IAAhBa,EAAKC,QACPhB,SAWN,SAA2Be,GACzBhB,EAAYE,UAuBd,SAAiCc,GAC/B,OAAOA,EACJG,KACC,EAACR,KAAEA,EAAIe,QAAEA,EAAOC,WAAEA,EAAUP,MAAEA,EAAKQ,UAAEA,KACnC,2CACcR,EAAMC,kDACZV,EAAKW,0FAGwBI,wDACGC,uDACDE,OAAOC,OAAOF,2BAGxDL,KAAK,G,CArCgBQ,CAAwBf,E,CAX5CgB,CAAkBhB,SAFpB,IA1BF,IAAsBL,C","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst searchField = document.querySelector('#search-box');\nconst countryList = document.querySelector('.country-list');\nconst countryInfo = document.querySelector('.country-info');\n\nsearchField.addEventListener('input', onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n  const input = event.currentTarget;\n  const searchQuery = input.value.trim();\n\n  function fetchCountry(name) {\n    return fetch(\n      `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`\n    ).then(response => {\n      return response.json();\n    });\n  }\n\n  if (searchQuery === '') {\n    cleanCountryList();\n    cleanCountryInfo();\n  }\n\n  fetchCountry(searchQuery).then(data => {\n    if (data.length > 10) {\n      return alert(\n        'Too many matches found. Please enter a more specific name.'\n      );\n    }\n\n    if (data.length >= 2 && data.length < 10) {\n      createCountryList(data);\n      cleanCountryInfo();\n      return;\n    }\n\n    if (data.length === 1) {\n      cleanCountryList();\n      createCountryInfo(data);\n      return;\n    }\n  });\n}\n\nfunction createCountryList(data) {\n  countryList.innerHTML = createMarkupCountryList(data);\n}\n\nfunction createCountryInfo(data) {\n  countryInfo.innerHTML = createMarkupCountryInfo(data);\n}\n\nfunction cleanCountryList() {\n  countryList.innerHTML = '';\n}\n\nfunction cleanCountryInfo() {\n  countryInfo.innerHTML = '';\n}\n\nfunction createMarkupCountryList(data) {\n  return data\n    .map(\n      ({ name, flags }) =>\n        `<li>\n          <img src=\"${flags.svg}\" alt=\"flag\" width=\"30px\"/>\n          <h2>${name.common}</h2>\n        </li>`\n    )\n    .join('');\n}\n\nfunction createMarkupCountryInfo(data) {\n  return data\n    .map(\n      ({ name, capital, population, flags, languages }) =>\n        `<div class=\"info\">\n          <img src=\"${flags.svg}\" alt=\"flag\" width=\"100px\"/>\n          <h1>${name.common}</h1>\n        </div>\n        <div>\n          <p class=\"title\"><b>Capital:</b> ${capital}</p>\n          <p class=\"title\"><b>Population:</b> ${population}</p>\n          <p class=\"title\"><b>Languages:</b> ${Object.values(languages)}</p>\n        </div>`\n    )\n    .join('');\n}\n\n// function fetchCountry(name) {\n//   return fetch(\n//     `https://restcountries.com/v3.1/name/${name}?fields=name,capital,population,flags,languages`\n//   ).then(response => {\n//     return response.json;\n//   });\n// }\n"],"names":["$1f0dc3b9307be026$var$searchField","document","querySelector","$1f0dc3b9307be026$var$countryList","$1f0dc3b9307be026$var$countryInfo","$1f0dc3b9307be026$var$cleanCountryList","innerHTML","$1f0dc3b9307be026$var$cleanCountryInfo","addEventListener","event","preventDefault","searchQuery","currentTarget","value","trim","name","fetch","then","response","json","data","length","alert","map","flags","svg","common","join","$1f0dc3b9307be026$var$createMarkupCountryList","$1f0dc3b9307be026$var$createCountryList","capital","population","languages","Object","values","$1f0dc3b9307be026$var$createMarkupCountryInfo","$1f0dc3b9307be026$var$createCountryInfo"],"version":3,"file":"index.cc8b239b.js.map"}